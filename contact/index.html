<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Learn all about Betsy Mendel: Lifestyle Coach, Author, etc etc!">
  <meta name="keywords" content="Betsy Mendel,Betsy,Mendel,Lifestyle Coach,Author,">
  <meta name="author" content="Betsy Mendel">
  <link href="https://fonts.googleapis.com/css?family=Lemon|Montserrat|Raleway|Roboto|Futura" rel="stylesheet">
  <link rel="author" href="https://mastodon.social/@Zaki_1052">
  <link rel="stylesheet" href="../public/styles.css">
  <title>Amazingly Amwesome - Meet Betsy</title>
</head>
<body>
  <header>
    <h1>Amazingly Awesome</h1>
    <nav>
      <ul>
        <li><a href="../index.html">HOME</a></li>
        <li><a href="../about/index.html">ABOUT</a></li>
        <li><a href="../contact/index.html">CONTACT</a></li>
      </ul>
      <div class="hamburger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>
  </header>
  
  <!-- Contact -->
  <main>
    <section class="container cream">
      <div class="columns">
        <div class="picture-column">
          <img src="../photos/profile_pic.jpeg" alt="Contact photo" class="contact-picture">
        </div>
        <div class="hello-column">
          <h2 class="title">Hello There!</h2>
          <p class="about-paragraph">Fill out the form to enter a competition to win a <u>FREE</u> copy of my new book, <i>TITLE</i></p>
          <p></p>
          <p>You can pitch your book here, or describe the competition further.</p>
        </div>
        <div class="form-column">
          <div class="contact-form">
            <form id="contactForm" name="contact" method="POST" data-netlify="true">
              <input type="hidden" name="form-name" value="contact">
              <input type="text" name="name" placeholder="Name" required>
              <input type="email" name="email" placeholder="Email" required>
              <button type="submit" name="submit">Submit</button>
            </form>
            <p class="privacy-statement">Your personal information will never be shared.</p>
            <p id="formStatus"></p>
          </div>    
        </div>
      </div>
      <div class="social-media">
        <a href="https://www.facebook.com/westsidebetsy" target="_blank" rel="noopener noreferrer">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733547.png" alt="Facebook logo" class="social-icon" width="32" height="32">
        </a>
        <a href="https://www.instagram.com/betsymendel" target="_blank" rel="noopener noreferrer">
          <img src="https://cdn-icons-png.flaticon.com/512/733/733558.png" alt="Instagram logo" class="social-icon" width="32" height="32">
        </a>
      </div>
    </section>
  </main>

  <footer>
    <div class="designer">
      <p class="design-caption">Designed by <a href="https://discord.gg/EK6wrPJEQg" target="_blank" rel="noopener noreferrer">Zakir Alibhai</a></p>
      <p class="git-caption">Hosted on <a href="https://github.com/Zaki-1052/Naz_Website" target="_blank" rel="noopener noreferrer">GitHub Pages</a></p>
    </div>
  </footer>

  <script>
    document.querySelector('.hamburger-menu').addEventListener('click', function () {
      document.querySelector('nav ul').classList.toggle('show');
    });
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('contactForm');
      const formStatus = document.getElementById('formStatus');

      form.addEventListener('submit', async function (event) {
        event.preventDefault();

        // Validation
        const name = form.name.value.trim();
        const email = form.email.value.trim();

        if (!name || !email) {
          formStatus.textContent = "Please fill out all required fields.";
          formStatus.style.color = "red";
          return;
        }

        if (!validateEmail(email)) {
          formStatus.textContent = "Invalid email format.";
          formStatus.style.color = "red";
          return;
        }

        // Form Data
        const formData = new FormData(form);

        // Submit the form
        try {
          const response = await fetch('/', {
            method: 'POST',
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: new URLSearchParams(formData).toString()
          });

          if (response.ok) {
            formStatus.textContent = "Thanks for your submission!";
            formStatus.style.color = "green";
            form.reset();
          } else {
            formStatus.textContent = "Oops! There was a problem submitting your form";
            formStatus.style.color = "red";
          }
        } catch (error) {
          formStatus.textContent = "Oops! There was a problem submitting your form";
          formStatus.style.color = "red";
        }
      });

      function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
      }
    });
  </script>
</body>
</html>